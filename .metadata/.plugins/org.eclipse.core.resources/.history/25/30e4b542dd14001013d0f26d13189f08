import javax.swing.*;
import java.awt.*;
import javax.swing.border.Border;
import javax.swing.BorderFactory;
import javax.swing.border.LineBorder;


public class EmergencyMainUI extends JFrame {

    public EmergencyMainUI() {
        setTitle("119 ìƒí™© ì ‘ìˆ˜ ì‹œìŠ¤í…œ");
        setSize(900, 600);
        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        setLocationRelativeTo(null);

        // ì¢Œì¸¡ ì‚¬ì´ë“œë°”
        JPanel sidePanel = new JPanel();
        sidePanel.setBackground(Color.WHITE);
        sidePanel.setPreferredSize(new Dimension(250, getHeight()));
        sidePanel.setLayout(new BoxLayout(sidePanel, BoxLayout.Y_AXIS));

        JLabel nameLabel = new JLabel("í™ê¸¸ë™ë‹˜");
        nameLabel.setFont(new Font("SansSerif", Font.BOLD, 20));
        nameLabel.setAlignmentX(Component.CENTER_ALIGNMENT);

        JLabel titleLabel = new JLabel("119 ì¢…í•©ìƒí™©ì‹¤");
        titleLabel.setFont(new Font("SansSerif", Font.PLAIN, 16));
        titleLabel.setAlignmentX(Component.CENTER_ALIGNMENT);

        sidePanel.add(Box.createVerticalStrut(100));
        sidePanel.add(nameLabel);
        sidePanel.add(Box.createVerticalStrut(10));
        sidePanel.add(titleLabel);

        // ìš°ì¸¡ ë©”ì¸ íŒ¨ë„
        JPanel mainPanel = new JPanel();
        mainPanel.setBackground(new Color(255, 221, 191));
        mainPanel.setLayout(new BorderLayout());
        
        JPanel listPanel = new JPanel();
        listPanel.setLayout(new BoxLayout(listPanel, BoxLayout.Y_AXIS));
        listPanel.setOpaque(false);

        String[][] reports = {
        	    {"2025-03-24 17:46:14 ì„œìš¸íŠ¹ë³„ì‹œ ìš©ì‚°êµ¬ ì„œë¹™ê³ ë™", "ëŒ€ë¬¼ì‚¬ê³ (êµ¬ì¡°)", "ê¸´ê¸‰ë„(ì¤‘)"},
        	    {"2025-03-25 11:23:58 ê²½ê¸°ë„ ìˆ˜ì›ì‹œ íŒ”ë‹¬êµ¬ ì¸ê³„ë™", "í™”ì¬", "ê¸´ê¸‰ë„(ìƒ)"},
        	    {"2025-03-25 13:12:42 ê²½ê¸°ë„ ê³ ì–‘ì‹œ ì¼ì‚°ë™êµ¬ ë°±ì„ë™", "ì‹¬ì •ì§€ í™˜ì", "ê¸´ê¸‰ë„(ìµœìƒ)"},
        	    {"2025-03-25 15:50:06 ì„œìš¸íŠ¹ë³„ì‹œ ì†¡íŒŒêµ¬ ì ì‹¤ë³¸ë™", "ë²Œ ì˜ì„ ì‚¬ê³ ", "ê¸´ê¸‰ë„(í•˜)"},
        	    {"2025-03-25 16:08:21 ê²½ê¸°ë„ ì„±ë‚¨ì‹œ ë¶„ë‹¹êµ¬ ì„œí˜„ë™", "êµí†µì‚¬ê³ (2ì°¨)", "ê¸´ê¸‰ë„(ì¤‘)"}
        	};

        for (String[] report : reports) {
        	
            JPanel wrapperPanel = new JPanel();
            wrapperPanel.setLayout(new BoxLayout(wrapperPanel, BoxLayout.Y_AXIS));
            wrapperPanel.setOpaque(false);
        	
            JPanel itemPanel = new JPanel(new GridBagLayout());
            itemPanel.setMaximumSize(new Dimension(Integer.MAX_VALUE, 50));
            itemPanel.setBorder(BorderFactory.createEmptyBorder(5, 10, 5, 10));

            GridBagConstraints gbc = new GridBagConstraints();
            gbc.insets = new Insets(0, 5, 0, 5); // í•­ëª© ê°„ ì¢Œìš° ì—¬ë°±
            gbc.fill = GridBagConstraints.HORIZONTAL;
            gbc.gridy = 0;
            
         // â–¶ í† ê¸€ ë²„íŠ¼
            gbc.gridx = 0;
            gbc.weightx = 0;
            JButton toggleButton = new JButton("â–¶");
            toggleButton.setPreferredSize(new Dimension(40, 25));
            toggleButton.setFont(new Font("SansSerif", Font.BOLD, 12));
            toggleButton.setFocusPainted(false);
            toggleButton.setContentAreaFilled(false);
            itemPanel.add(toggleButton, gbc);


            // ì£¼ì†Œ (60%)
            gbc.gridx = 1;
            gbc.weightx = 0.6;
            JLabel locationLabel = new JLabel(report[0]);
            locationLabel.setFont(new Font("SansSerif", Font.PLAIN, 14));
            itemPanel.add(locationLabel, gbc);

            // ì‚¬ê³  ìœ í˜• (25%)
            gbc.gridx = 2;
            gbc.weightx = 0.25;
            JLabel typeLabel = new JLabel(report[1]);
            typeLabel.setFont(new Font("SansSerif", Font.PLAIN, 14));
            itemPanel.add(typeLabel, gbc);

            // ê¸´ê¸‰ë„ (15%)
            gbc.gridx = 3;
            gbc.weightx = 0.15;
            JLabel urgencyLabel = new JLabel(report[2]);
            urgencyLabel.setFont(new Font("SansSerif", Font.PLAIN, 14));
            urgencyLabel.setHorizontalAlignment(SwingConstants.RIGHT);
            itemPanel.add(urgencyLabel, gbc);
            
            // ì„¸ë¶€ì •ë³´ íŒ¨ë„
            JPanel detailPanel = new JPanel();
            detailPanel.setLayout(new BoxLayout(detailPanel, BoxLayout.Y_AXIS));
            detailPanel.setBorder(BorderFactory.createEmptyBorder(5, 50, 5, 10));
            detailPanel.setBackground(new Color(255, 255, 255, 200));
            detailPanel.setVisible(false); // ì´ˆê¸°ì—ëŠ” ìˆ¨ê¹€
            
            // ì„¸ë¶€ì •ë³´ ë‚´ìš©
            JLabel detailLabel = new JLabel("<html>â–¶ ì¶œë™ëŒ€ê¸° ì¤‘<br>â–¶ ìµœê·¼ 10ë¶„ ë‚´ ë™ì¼ ìœ í˜• ì—†ìŒ<br>â–¶ ì‹ ê³ ì ìœ„ì¹˜ ì •í™•ë„: 5m</html>");
            detailLabel.setFont(new Font("SansSerif", Font.PLAIN, 13));
            detailPanel.add(detailLabel);

            // ë§ˆì§€ë§‰ í•­ëª©ì—ë§Œ ì‹¤ì œ ì„¸ë¶€ë‚´ìš© ì˜ˆì‹œ ì¶”ê°€
            if (report[1].equals("êµí†µì‚¬ê³ (2ì°¨)")) {
                detailLabel.setText("<html>ğŸš¨ í˜„ì¥ì— ì°¨ëŸ‰ 3ëŒ€ ì¶”ëŒ<br>ğŸš‘ êµ¬ê¸‰ì°¨ ì¶œë™ ì™„ë£Œ<br>ğŸ“ ì‚¬ê³  ì§€ì : êµì°¨ë¡œ ê·¼ì²˜<br>ğŸ•’ ì˜ˆìƒ ì²˜ë¦¬ì‹œê°„: 30ë¶„</html>");
            }

            // í† ê¸€ ë²„íŠ¼ ì´ë²¤íŠ¸
            toggleButton.addActionListener(e -> {
                boolean isVisible = detailPanel.isVisible();
                detailPanel.setVisible(!isVisible);
                toggleButton.setText(isVisible ? ">" : "V");
                wrapperPanel.revalidate();
                wrapperPanel.repaint();
            });

            wrapperPanel.add(itemPanel);
            wrapperPanel.add(detailPanel);            
            

            listPanel.add(wrapperPanel);
            listPanel.add(Box.createVerticalStrut(10));
        }




        JScrollPane scrollPane = new JScrollPane(listPanel);
        scrollPane.setBorder(null);
        scrollPane.setOpaque(false);
        scrollPane.getViewport().setOpaque(false);

     // ê²€ìƒ‰ì°½ íŒ¨ë„
        JPanel searchPanel = new JPanel();
        searchPanel.setLayout(new BorderLayout());
        searchPanel.setBorder(BorderFactory.createEmptyBorder(10, 10, 10, 10));
        searchPanel.setOpaque(false);

        // ê²€ìƒ‰ ì…ë ¥ í•„ë“œ
        JTextField searchField = new JTextField();
        searchField.setFont(new Font("SansSerif", Font.PLAIN, 14));
        searchField.setPreferredSize(new Dimension(200, 35));
        searchField.setText("ì£¼ì†Œ ë˜ëŠ” ì‚¬ê³  ìœ í˜• ê²€ìƒ‰...");
        searchField.setForeground(Color.GRAY);

        // ê²€ìƒ‰ ë²„íŠ¼ (ì•„ì´ì½˜ ëŒ€ì‹  í…ìŠ¤íŠ¸ë¡œ)
        JButton searchButton = new JButton("ê²€ìƒ‰");
        searchButton.setFont(new Font("SansSerif", Font.PLAIN, 14));
        searchButton.setPreferredSize(new Dimension(80, 35));
        searchButton.setFocusPainted(false);
        searchButton.setBackground(Color.DARK_GRAY);
        searchButton.setForeground(Color.WHITE);

        // ê²€ìƒ‰ì°½ ì¶”ê°€
        searchPanel.add(searchField, BorderLayout.CENTER);
        searchPanel.add(searchButton, BorderLayout.EAST);

        // mainPanel ìƒë‹¨ì— ì¶”ê°€
        mainPanel.add(searchPanel, BorderLayout.NORTH);

        
        mainPanel.add(scrollPane, BorderLayout.CENTER);

        getContentPane().setLayout(new BorderLayout());
        getContentPane().add(sidePanel, BorderLayout.WEST);
        getContentPane().add(mainPanel, BorderLayout.CENTER);

        setVisible(true);
    }
}
