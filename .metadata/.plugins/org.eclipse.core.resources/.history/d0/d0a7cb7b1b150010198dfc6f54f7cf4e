import javax.swing.*;
import java.awt.*;
import javax.swing.border.Border;
import javax.swing.BorderFactory;
import javax.swing.border.LineBorder;


public class EmergencyMainUI extends JFrame {

    public EmergencyMainUI() {
        setTitle("119 ìƒí™© ì ‘ìˆ˜ ì‹œìŠ¤í…œ");
        setSize(900, 600);
        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        setLocationRelativeTo(null);

        // ì¢Œì¸¡ ì‚¬ì´ë“œë°”
        JPanel sidePanel = new JPanel();
        sidePanel.setBackground(Color.WHITE);
        sidePanel.setPreferredSize(new Dimension(250, getHeight()));
        sidePanel.setLayout(new BoxLayout(sidePanel, BoxLayout.Y_AXIS));

        JLabel nameLabel = new JLabel("ì´ì§€ì„±ë‹˜");
        nameLabel.setFont(new Font("SansSerif", Font.BOLD, 20));
        nameLabel.setAlignmentX(Component.CENTER_ALIGNMENT);

        JLabel titleLabel = new JLabel("119 ì¢…í•©ìƒí™©ì‹¤");
        titleLabel.setFont(new Font("SansSerif", Font.PLAIN, 16));
        titleLabel.setAlignmentX(Component.CENTER_ALIGNMENT);

        sidePanel.add(Box.createVerticalStrut(100));
        sidePanel.add(nameLabel);
        sidePanel.add(Box.createVerticalStrut(10));
        sidePanel.add(titleLabel);
        
        
        
     // ì‚¬ì´ë“œë°” ì•„ë˜ì— ë²„íŠ¼ ì¶”ê°€ë¥¼ ìœ„í•œ ì—¬ë°± í™•ë³´
        sidePanel.add(Box.createVerticalGlue()); // ìœ„ ìš”ì†Œë“¤ê³¼ ì•„ë˜ ë²„íŠ¼ ì‚¬ì´ ê³µê°„ í™•ë³´

        // ì¢Œí•˜ë‹¨ ì´ë¯¸ì§€ ë²„íŠ¼
        ImageIcon buttonIcon = new ImageIcon("call.png"); // ì˜ˆ: ê¸´ê¸‰ ì¶œë™ ë²„íŠ¼ ì´ë¯¸ì§€
        Image scaledButtonImage = buttonIcon.getImage().getScaledInstance(150, 50, Image.SCALE_SMOOTH);
        JButton bottomButton = new JButton(new ImageIcon(scaledButtonImage));
        bottomButton.setBorderPainted(false);
        bottomButton.setContentAreaFilled(false);
        bottomButton.setFocusPainted(false);
        bottomButton.setAlignmentX(Component.CENTER_ALIGNMENT);

        // ë²„íŠ¼ ê°ì‹¸ëŠ” íŒ¨ë„ë¡œ ì—¬ë°± ì¡°ì •
        JPanel buttonWrapper = new JPanel();
        buttonWrapper.setBackground(Color.WHITE);
        buttonWrapper.setBorder(BorderFactory.createEmptyBorder(10, 20, 20, 20));
        buttonWrapper.setLayout(new BoxLayout(buttonWrapper, BoxLayout.Y_AXIS));
        buttonWrapper.add(bottomButton); // ğŸ’¥ ì´ê²Œ ë¹ ì ¸ ìˆì—ˆìŒ!

        sidePanel.add(buttonWrapper); // ë²„íŠ¼ ë˜í¼ë¥¼ ì‚¬ì´ë“œ íŒ¨ë„ì— ì¶”ê°€

        // ì´ë¯¸ì§€ ì•„ì´ì½˜ (ì¢Œì¸¡ í•˜ë‹¨ call.png)
        sidePanel.add(Box.createVerticalGlue()); // ë‚˜ë¨¸ì§€ ì»´í¬ë„ŒíŠ¸ ìœ„ë¡œ ë°€ì–´ ì˜¬ë¦¼

        ImageIcon callIcon = new ImageIcon("call.png");
        Image scaledImage = callIcon.getImage().getScaledInstance(100, 100, Image.SCALE_SMOOTH);
        JLabel callLabel = new JLabel(new ImageIcon(scaledImage));
        callLabel.setAlignmentX(Component.CENTER_ALIGNMENT);
        callLabel.setBorder(BorderFactory.createEmptyBorder(20, 0, 20, 0)); // ì—¬ë°± ì¶”ê°€

        sidePanel.add(callLabel);


        
        
        

        // ìš°ì¸¡ ë©”ì¸ íŒ¨ë„
        JPanel mainPanel = new JPanel();
        mainPanel.setBackground(new Color(255, 221, 191));
        mainPanel.setLayout(new BorderLayout());
        
        JPanel listPanel = new JPanel();
        listPanel.setLayout(new BoxLayout(listPanel, BoxLayout.Y_AXIS));
        listPanel.setOpaque(false);

        String[][] reports = {
        	    {"2025-03-24 17:46:14 ì„œìš¸íŠ¹ë³„ì‹œ ìš©ì‚°êµ¬ ì„œë¹™ê³ ë™", "ëŒ€ë¬¼ì‚¬ê³ (êµ¬ì¡°)", "ê¸´ê¸‰ë„(ì¤‘)"},
        	    {"2025-03-25 11:23:58 ê²½ê¸°ë„ ìˆ˜ì›ì‹œ íŒ”ë‹¬êµ¬ ì¸ê³„ë™", "ì¼ë°˜í™”ì¬(í™”ì¬)", "ê¸´ê¸‰ë„(ìƒ)"},
        	    {"2025-03-25 13:12:42 ê²½ê¸°ë„ ê³ ì–‘ì‹œ ì¼ì‚°ë™êµ¬ ë°±ì„ë™", "ì‹¬ì •ì§€ í™˜ì", "ê¸´ê¸‰ë„(ìµœìƒ)"},
        	    {"2025-03-25 15:50:06 ì„œìš¸íŠ¹ë³„ì‹œ ì†¡íŒŒêµ¬ ì ì‹¤ë³¸ë™", "ê¸°íƒ€(ê¸°íƒ€)", "ê¸´ê¸‰ë„(í•˜)"},
        	    {"2025-03-25 16:08:21 ê²½ê¸°ë„ ì„±ë‚¨ì‹œ ë¶„ë‹¹êµ¬ ì„œí˜„ë™", "ì§ˆë³‘(êµ¬ê¸‰)", "ê¸´ê¸‰ë„(ì¤‘)"}
        	};

        for (int i = 0; i < reports.length; i++) {
            String[] report = reports[i];
        	
            JPanel wrapperPanel = new JPanel();
            wrapperPanel.setLayout(new BoxLayout(wrapperPanel, BoxLayout.Y_AXIS));
            wrapperPanel.setOpaque(false);
        	
            JPanel itemPanel = new JPanel(new GridBagLayout());
            itemPanel.setMaximumSize(new Dimension(Integer.MAX_VALUE, 50));
            itemPanel.setBorder(BorderFactory.createEmptyBorder(5, 10, 5, 10));

            GridBagConstraints gbc = new GridBagConstraints();
            gbc.insets = new Insets(0, 5, 0, 5); // í•­ëª© ê°„ ì¢Œìš° ì—¬ë°±
            gbc.fill = GridBagConstraints.HORIZONTAL;
            gbc.gridy = 0;
            
         // â–¶ í† ê¸€ ë²„íŠ¼
            gbc.gridx = 0;
            gbc.weightx = 0;
            JButton toggleButton = new JButton(">");
            toggleButton.setPreferredSize(new Dimension(40, 25));
            toggleButton.setFont(new Font("SansSerif", Font.BOLD, 12));
            toggleButton.setFocusPainted(false);
            toggleButton.setContentAreaFilled(false);
            itemPanel.add(toggleButton, gbc);


            // ì£¼ì†Œ (60%)
            gbc.gridx = 1;
            gbc.weightx = 0.6;
            JLabel locationLabel = new JLabel(report[0]);
            locationLabel.setFont(new Font("SansSerif", Font.PLAIN, 14));
            itemPanel.add(locationLabel, gbc);

            // ì‚¬ê³  ìœ í˜• (25%)
            gbc.gridx = 2;
            gbc.weightx = 0.25;
            JLabel typeLabel = new JLabel(report[1]);
            typeLabel.setFont(new Font("SansSerif", Font.PLAIN, 14));
            itemPanel.add(typeLabel, gbc);

            // ê¸´ê¸‰ë„ (15%)
            gbc.gridx = 3;
            gbc.weightx = 0.15;
            JLabel urgencyLabel = new JLabel(report[2]);
            urgencyLabel.setFont(new Font("SansSerif", Font.PLAIN, 14));
            urgencyLabel.setHorizontalAlignment(SwingConstants.RIGHT);
            itemPanel.add(urgencyLabel, gbc);
            
            // ì„¸ë¶€ì •ë³´ íŒ¨ë„
            JPanel detailPanel = new JPanel();
            detailPanel.setLayout(new BoxLayout(detailPanel, BoxLayout.Y_AXIS));
            detailPanel.setBorder(BorderFactory.createEmptyBorder(5, 70, 5, 10));
            detailPanel.setBackground(new Color(255, 255, 255, 200));
            detailPanel.setVisible(false); // ì´ˆê¸°ì—ëŠ” ìˆ¨ê¹€
            
            // ì„¸ë¶€ì •ë³´ ë‚´ìš©
            JLabel detailLabel = new JLabel("<html>ìœ„ì¹˜ :  <br>ë¬¸ì œ : <br>ëª©ê²©ìœ„ì¹˜ : <br>í™”ì¬ ë°œìƒ ì¥ì†Œ : <br>í—ˆìœ„ì‹ ê³  ê°€ëŠ¥ì„± <br> ì „í™”ë²ˆí˜¸ : </html>");
            detailLabel.setFont(new Font("SansSerif", Font.PLAIN, 13));
            detailPanel.add(detailLabel);
            if (i == 0) {
                detailLabel.setText("<html>"
                    + "ìœ„ì¹˜: ì„œìš¸íŠ¹ë³„ì‹œ ìš©ì‚°êµ¬ ì„œë¹™ê³ ë™<br>"
                    + "ë¬¸ì œ: ì£¼ì°¨ëœ ì°¨ëŸ‰ì´ ê°€ë¡œìˆ˜ì— ì˜í•´ íŒŒì†ë¨<br>"
                    + "ëª©ê²©ìœ„ì¹˜: ì„œë¹™ê³ ì—­ 2ë²ˆ ì¶œêµ¬ ì•<br>"
                    + "í™”ì¬ ë°œìƒ ì¥ì†Œ: í•´ë‹¹ ì—†ìŒ<br>"
                    + "í—ˆìœ„ì‹ ê³  ê°€ëŠ¥ì„±: ë‚®ìŒ<br>"
                    + "ì „í™”ë²ˆí˜¸: 010-1234-5678"
                    + "</html>");
            }
            if (i == 1) {
                detailLabel.setText("<html>"
                    + "ìœ„ì¹˜: ê²½ê¸°ë„ ìˆ˜ì›ì‹œ íŒ”ë‹¬êµ¬ ì¸ê³„ë™<br>"
                    + "ë¬¸ì œ: ìƒê°€ ê±´ë¬¼ ë‚´ ì „ê¸° ëˆ„ì „ í™”ì¬<br>"
                    + "ëª©ê²©ìœ„ì¹˜: ì¸ê³„ë™ ë¨¹ìê³¨ëª© ì´ˆì…<br>"
                    + "í™”ì¬ ë°œìƒ ì¥ì†Œ: ê±´ë¬¼ 2ì¸µ ì‚¬ë¬´ì‹¤<br>"
                    + "í—ˆìœ„ì‹ ê³  ê°€ëŠ¥ì„±: ì—†ìŒ<br>"
                    + "ì „í™”ë²ˆí˜¸: 010-2345-6789"
                    + "</html>");
            }
            if (i == 2) {
                detailLabel.setText("<html>"
                    + "ìœ„ì¹˜: ê²½ê¸°ë„ ê³ ì–‘ì‹œ ì¼ì‚°ë™êµ¬ ë°±ì„ë™<br>"
                    + "ë¬¸ì œ: ì‹¬ì •ì§€ í™˜ì ë°œìƒ, CPR ìš”ì²­<br>"
                    + "ëª©ê²©ìœ„ì¹˜: ë°±ì„ì—­ 3ë²ˆ ì¶œêµ¬ ë²„ìŠ¤ ì •ë¥˜ì¥<br>"
                    + "í™”ì¬ ë°œìƒ ì¥ì†Œ: í•´ë‹¹ ì—†ìŒ<br>"
                    + "í—ˆìœ„ì‹ ê³  ê°€ëŠ¥ì„±: ì—†ìŒ<br>"
                    + "ì „í™”ë²ˆí˜¸: 010-3456-7890"
                    + "</html>");
            }
            if (i == 3) {
                detailLabel.setText("<html>"
                    + "ìœ„ì¹˜: ì„œìš¸íŠ¹ë³„ì‹œ ì†¡íŒŒêµ¬ ì ì‹¤ë³¸ë™<br>"
                    + "ë¬¸ì œ: ê³µì› ë‚´ ì˜ì‹¬ ë¬¼ì²´ ì‹ ê³ <br>"
                    + "ëª©ê²©ìœ„ì¹˜: ì ì‹¤ë³¸ë™ ì–´ë¦°ì´ê³µì› ì…êµ¬<br>"
                    + "í™”ì¬ ë°œìƒ ì¥ì†Œ: í•´ë‹¹ ì—†ìŒ<br>"
                    + "í—ˆìœ„ì‹ ê³  ê°€ëŠ¥ì„±: ì¤‘ê°„<br>"
                    + "ì „í™”ë²ˆí˜¸: 010-4567-8901"
                    + "</html>");
            }
            if (i == 4) {
                detailLabel.setText("<html>"
                    + "ìœ„ì¹˜: ê²½ê¸°ë„ ì„±ë‚¨ì‹œ ë¶„ë‹¹êµ¬ ì„œí˜„ë™<br>"
                    + "ë¬¸ì œ: í˜¸í¡ê³¤ë€ ë° ê³ ì—´ í™˜ì<br>"
                    + "ëª©ê²©ìœ„ì¹˜: ì„œí˜„ì—­ 1ë²ˆ ì¶œêµ¬ ì• ì¹´í˜<br>"
                    + "í™”ì¬ ë°œìƒ ì¥ì†Œ: í•´ë‹¹ ì—†ìŒ<br>"
                    + "í—ˆìœ„ì‹ ê³  ê°€ëŠ¥ì„±: ì—†ìŒ<br>"
                    + "ì „í™”ë²ˆí˜¸: 010-5678-9012"
                    + "</html>");
            }


            // í† ê¸€ ë²„íŠ¼ ì´ë²¤íŠ¸
            toggleButton.addActionListener(e -> {
                boolean isVisible = detailPanel.isVisible();
                detailPanel.setVisible(!isVisible);
                toggleButton.setText(isVisible ? "â–¶" : "V");
                wrapperPanel.revalidate();
                wrapperPanel.repaint();
            });

            wrapperPanel.add(itemPanel);
            wrapperPanel.add(detailPanel);            
            

            listPanel.add(wrapperPanel);
            listPanel.add(Box.createVerticalStrut(10));
        }




        JScrollPane scrollPane = new JScrollPane(listPanel);
        scrollPane.setBorder(null);
        scrollPane.setOpaque(false);
        scrollPane.getViewport().setOpaque(false);

     // ê²€ìƒ‰ì°½ íŒ¨ë„
        JPanel searchPanel = new JPanel();
        searchPanel.setLayout(new BorderLayout());
        searchPanel.setBorder(BorderFactory.createEmptyBorder(10, 10, 10, 10));
        searchPanel.setOpaque(false);

        // ê²€ìƒ‰ ì…ë ¥ í•„ë“œ
        JTextField searchField = new JTextField();
        searchField.setFont(new Font("SansSerif", Font.PLAIN, 14));
        searchField.setPreferredSize(new Dimension(200, 35));
        searchField.setText("ì£¼ì†Œ ë˜ëŠ” ì‚¬ê³  ìœ í˜• ê²€ìƒ‰...");
        searchField.setForeground(Color.GRAY);

        // ê²€ìƒ‰ ë²„íŠ¼ (ì•„ì´ì½˜ ëŒ€ì‹  í…ìŠ¤íŠ¸ë¡œ)
        JButton searchButton = new JButton("ê²€ìƒ‰");
        searchButton.setFont(new Font("SansSerif", Font.PLAIN, 14));
        searchButton.setPreferredSize(new Dimension(80, 35));
        searchButton.setFocusPainted(false);
        searchButton.setBackground(Color.DARK_GRAY);
        searchButton.setForeground(Color.WHITE);

        // ê²€ìƒ‰ì°½ ì¶”ê°€
        searchPanel.add(searchField, BorderLayout.CENTER);
        searchPanel.add(searchButton, BorderLayout.EAST);

        // mainPanel ìƒë‹¨ì— ì¶”ê°€
        mainPanel.add(searchPanel, BorderLayout.NORTH);

        
        mainPanel.add(scrollPane, BorderLayout.CENTER);

        getContentPane().setLayout(new BorderLayout());
        getContentPane().add(sidePanel, BorderLayout.WEST);
        getContentPane().add(mainPanel, BorderLayout.CENTER);

        setVisible(true);
    }
}
